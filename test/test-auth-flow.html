<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è®¤è¯æµç¨‹æµ‹è¯• - Authentication Flow Test</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container {
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
            margin-bottom: 30px;
        }
        .test-section {
            margin: 30px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }
        .test-title {
            font-size: 18px;
            font-weight: bold;
            color: #495057;
            margin-bottom: 15px;
        }
        .test-steps {
            list-style: none;
            padding: 0;
        }
        .test-steps li {
            padding: 10px 0;
            border-bottom: 1px dashed #dee2e6;
            display: flex;
            align-items: center;
        }
        .test-steps li:last-child {
            border-bottom: none;
        }
        .step-number {
            background: #667eea;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            font-weight: bold;
        }
        .status {
            margin-left: auto;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
        }
        .status.pending {
            background: #ffc107;
            color: #856404;
        }
        .status.testing {
            background: #17a2b8;
            color: white;
        }
        .status.pass {
            background: #28a745;
            color: white;
        }
        .status.fail {
            background: #dc3545;
            color: white;
        }
        .test-button {
            background: #667eea;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px 5px;
            transition: all 0.3s;
        }
        .test-button:hover {
            background: #5a67d8;
            transform: translateY(-2px);
        }
        .test-button:disabled {
            background: #6c757d;
            cursor: not-allowed;
            transform: none;
        }
        .results {
            margin-top: 20px;
            padding: 15px;
            background: #e9ecef;
            border-radius: 6px;
            font-family: monospace;
            font-size: 14px;
            white-space: pre-wrap;
            max-height: 300px;
            overflow-y: auto;
        }
        .iframe-container {
            margin-top: 20px;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            overflow: hidden;
        }
        iframe {
            width: 100%;
            height: 600px;
            border: none;
        }
        .emoji {
            font-size: 20px;
            margin-right: 10px;
        }
        .note {
            background: #fff3cd;
            border: 1px solid #ffc107;
            color: #856404;
            padding: 15px;
            border-radius: 6px;
            margin: 20px 0;
        }
        .note strong {
            color: #664d03;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ” AI å›¾åƒç”Ÿæˆè®¤è¯æµç¨‹æµ‹è¯•</h1>
        
        <div class="note">
            <strong>æµ‹è¯•è¯´æ˜ï¼š</strong>æ­¤é¡µé¢ç”¨äºæµ‹è¯• AI å›¾åƒç”ŸæˆåŠŸèƒ½çš„ç™»å½•è®¤è¯æµç¨‹ã€‚
            æ ¹æ®ç”¨æˆ·è¦æ±‚ï¼š"ä½ åº”è¯¥è·³å‡ºæ¥ è¯´å…ˆç™»å½•å†ä½¿ç”¨"ï¼Œç³»ç»Ÿåº”åœ¨æœªç™»å½•æ—¶æ˜¾ç¤ºç™»å½•å¯¹è¯æ¡†ã€‚
        </div>

        <div class="test-section">
            <div class="test-title">
                <span class="emoji">ğŸ§ª</span>æµ‹è¯•åœºæ™¯ 1: æœªç™»å½•ç”¨æˆ·å°è¯•ç”Ÿæˆ
            </div>
            <ol class="test-steps">
                <li>
                    <span class="step-number">1</span>
                    <span>è®¿é—®é¦–é¡µï¼ˆæœªç™»å½•çŠ¶æ€ï¼‰</span>
                    <span class="status pending" id="step1-1">å¾…æµ‹è¯•</span>
                </li>
                <li>
                    <span class="step-number">2</span>
                    <span>è¾“å…¥æç¤ºè¯ï¼šã€Œç¾ä¸½çš„æ¨±èŠ±æ ‘ä¸‹çš„å°‘å¥³ã€</span>
                    <span class="status pending" id="step1-2">å¾…æµ‹è¯•</span>
                </li>
                <li>
                    <span class="step-number">3</span>
                    <span>ç‚¹å‡»ã€Œç„¡æ–™ã§AIç”»åƒç”Ÿæˆã‚’é–‹å§‹ã€æŒ‰é’®</span>
                    <span class="status pending" id="step1-3">å¾…æµ‹è¯•</span>
                </li>
                <li>
                    <span class="step-number">4</span>
                    <span>éªŒè¯ï¼šåº”å¼¹å‡ºç™»å½•å¯¹è¯æ¡†</span>
                    <span class="status pending" id="step1-4">å¾…æµ‹è¯•</span>
                </li>
                <li>
                    <span class="step-number">5</span>
                    <span>éªŒè¯ï¼šæ˜¾ç¤ºé”™è¯¯æç¤ºã€Œç”»åƒç”Ÿæˆã«ã¯ãƒ­ã‚°ã‚¤ãƒ³ãŒå¿…è¦ã§ã™ã€</span>
                    <span class="status pending" id="step1-5">å¾…æµ‹è¯•</span>
                </li>
            </ol>
            <button class="test-button" onclick="runTest1()">è¿è¡Œæµ‹è¯•</button>
        </div>

        <div class="test-section">
            <div class="test-title">
                <span class="emoji">ğŸ§ª</span>æµ‹è¯•åœºæ™¯ 2: ç™»å½•å¯¹è¯æ¡†åŠŸèƒ½
            </div>
            <ol class="test-steps">
                <li>
                    <span class="step-number">1</span>
                    <span>ç™»å½•å¯¹è¯æ¡†æ˜¾ç¤º</span>
                    <span class="status pending" id="step2-1">å¾…æµ‹è¯•</span>
                </li>
                <li>
                    <span class="step-number">2</span>
                    <span>æ˜¾ç¤ºåˆå›ç‰¹å…¸ä¿¡æ¯ï¼ˆ100ç§¯åˆ†ç­‰ï¼‰</span>
                    <span class="status pending" id="step2-2">å¾…æµ‹è¯•</span>
                </li>
                <li>
                    <span class="step-number">3</span>
                    <span>æ˜¾ç¤º Google ç™»å½•æŒ‰é’®</span>
                    <span class="status pending" id="step2-3">å¾…æµ‹è¯•</span>
                </li>
                <li>
                    <span class="step-number">4</span>
                    <span>æ˜¾ç¤º GitHub ç™»å½•æŒ‰é’®</span>
                    <span class="status pending" id="step2-4">å¾…æµ‹è¯•</span>
                </li>
                <li>
                    <span class="step-number">5</span>
                    <span>æ˜¾ç¤ºé‚®ç®±ç™»å½•é“¾æ¥</span>
                    <span class="status pending" id="step2-5">å¾…æµ‹è¯•</span>
                </li>
            </ol>
            <button class="test-button" onclick="runTest2()">è¿è¡Œæµ‹è¯•</button>
        </div>

        <div class="test-section">
            <div class="test-title">
                <span class="emoji">ğŸ§ª</span>æµ‹è¯•åœºæ™¯ 3: å·²ç™»å½•ç”¨æˆ·ä½“éªŒ
            </div>
            <ol class="test-steps">
                <li>
                    <span class="step-number">1</span>
                    <span>æ¨¡æ‹Ÿç™»å½•çŠ¶æ€</span>
                    <span class="status pending" id="step3-1">å¾…æµ‹è¯•</span>
                </li>
                <li>
                    <span class="step-number">2</span>
                    <span>æ˜¾ç¤ºæ¬¢è¿ä¿¡æ¯å’Œç”¨æˆ·å</span>
                    <span class="status pending" id="step3-2">å¾…æµ‹è¯•</span>
                </li>
                <li>
                    <span class="step-number">3</span>
                    <span>æ˜¾ç¤ºå‰©ä½™ç§¯åˆ†æ•°é‡</span>
                    <span class="status pending" id="step3-3">å¾…æµ‹è¯•</span>
                </li>
                <li>
                    <span class="step-number">4</span>
                    <span>ç‚¹å‡»ç”ŸæˆæŒ‰é’®æ­£å¸¸å·¥ä½œ</span>
                    <span class="status pending" id="step3-4">å¾…æµ‹è¯•</span>
                </li>
                <li>
                    <span class="step-number">5</span>
                    <span>ä¸æ˜¾ç¤ºç™»å½•å¯¹è¯æ¡†</span>
                    <span class="status pending" id="step3-5">å¾…æµ‹è¯•</span>
                </li>
            </ol>
            <button class="test-button" onclick="runTest3()">è¿è¡Œæµ‹è¯•</button>
        </div>

        <div class="test-section">
            <div class="test-title">
                <span class="emoji">ğŸ“Š</span>æµ‹è¯•ç»“æœ
            </div>
            <div class="results" id="testResults">
æµ‹è¯•å°šæœªå¼€å§‹...
ç‚¹å‡»ä¸Šæ–¹æŒ‰é’®å¼€å§‹å„é¡¹æµ‹è¯•ã€‚
            </div>
        </div>

        <div class="test-section">
            <div class="test-title">
                <span class="emoji">ğŸŒ</span>å®æ—¶é¢„è§ˆ
            </div>
            <div class="iframe-container">
                <iframe src="http://localhost:3005" id="testFrame"></iframe>
            </div>
        </div>
    </div>

    <script>
        function updateStatus(id, status, text = '') {
            const element = document.getElementById(id);
            element.className = 'status ' + status;
            element.textContent = text || status.toUpperCase();
        }

        function log(message) {
            const results = document.getElementById('testResults');
            const timestamp = new Date().toLocaleTimeString();
            results.textContent += `[${timestamp}] ${message}\n`;
            results.scrollTop = results.scrollHeight;
        }

        async function runTest1() {
            log('===== å¼€å§‹æµ‹è¯•åœºæ™¯ 1: æœªç™»å½•ç”¨æˆ·å°è¯•ç”Ÿæˆ =====');
            
            // Step 1: è®¿é—®é¦–é¡µ
            updateStatus('step1-1', 'testing', 'æµ‹è¯•ä¸­...');
            log('Step 1: è®¿é—®é¦–é¡µ http://localhost:3005');
            document.getElementById('testFrame').src = 'http://localhost:3005';
            await new Promise(resolve => setTimeout(resolve, 2000));
            updateStatus('step1-1', 'pass', 'âœ“ å®Œæˆ');
            
            // Step 2: è¾“å…¥æç¤ºè¯
            updateStatus('step1-2', 'testing', 'æµ‹è¯•ä¸­...');
            log('Step 2: éœ€è¦æ‰‹åŠ¨è¾“å…¥æç¤ºè¯ã€Œç¾ä¸½çš„æ¨±èŠ±æ ‘ä¸‹çš„å°‘å¥³ã€');
            await new Promise(resolve => setTimeout(resolve, 3000));
            updateStatus('step1-2', 'pass', 'âœ“ æ‰‹åŠ¨');
            
            // Step 3: ç‚¹å‡»ç”ŸæˆæŒ‰é’®
            updateStatus('step1-3', 'testing', 'æµ‹è¯•ä¸­...');
            log('Step 3: éœ€è¦æ‰‹åŠ¨ç‚¹å‡»ã€Œç„¡æ–™ã§AIç”»åƒç”Ÿæˆã‚’é–‹å§‹ã€æŒ‰é’®');
            await new Promise(resolve => setTimeout(resolve, 2000));
            updateStatus('step1-3', 'pass', 'âœ“ æ‰‹åŠ¨');
            
            // Step 4 & 5: éªŒè¯å¯¹è¯æ¡†
            updateStatus('step1-4', 'testing', 'éªŒè¯ä¸­...');
            updateStatus('step1-5', 'testing', 'éªŒè¯ä¸­...');
            log('Step 4&5: è¯·éªŒè¯æ˜¯å¦æ˜¾ç¤ºç™»å½•å¯¹è¯æ¡†å’Œé”™è¯¯æç¤º');
            log('é¢„æœŸç»“æœ:');
            log('  - å¼¹å‡ºç™»å½•å¯¹è¯æ¡†');
            log('  - æ˜¾ç¤ºã€Œç”»åƒç”Ÿæˆã«ã¯ãƒ­ã‚°ã‚¤ãƒ³ãŒå¿…è¦ã§ã™ã€');
            await new Promise(resolve => setTimeout(resolve, 3000));
            updateStatus('step1-4', 'pass', 'âœ“ éœ€éªŒè¯');
            updateStatus('step1-5', 'pass', 'âœ“ éœ€éªŒè¯');
            
            log('æµ‹è¯•åœºæ™¯ 1 å®Œæˆï¼è¯·æ‰‹åŠ¨éªŒè¯ç»“æœã€‚');
        }

        async function runTest2() {
            log('===== å¼€å§‹æµ‹è¯•åœºæ™¯ 2: ç™»å½•å¯¹è¯æ¡†åŠŸèƒ½ =====');
            
            updateStatus('step2-1', 'testing', 'æ£€æŸ¥ä¸­...');
            log('Step 1: æ£€æŸ¥ç™»å½•å¯¹è¯æ¡†æ˜¯å¦æ˜¾ç¤º');
            await new Promise(resolve => setTimeout(resolve, 1000));
            updateStatus('step2-1', 'pass', 'âœ“ éœ€éªŒè¯');
            
            updateStatus('step2-2', 'testing', 'æ£€æŸ¥ä¸­...');
            log('Step 2: éªŒè¯åˆå›ç‰¹å…¸ä¿¡æ¯æ˜¾ç¤º');
            log('  åº”åŒ…å«: 100ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆï¼ˆ20æšåˆ†ï¼‰');
            await new Promise(resolve => setTimeout(resolve, 1000));
            updateStatus('step2-2', 'pass', 'âœ“ éœ€éªŒè¯');
            
            updateStatus('step2-3', 'testing', 'æ£€æŸ¥ä¸­...');
            log('Step 3: éªŒè¯ Google ç™»å½•æŒ‰é’®');
            await new Promise(resolve => setTimeout(resolve, 1000));
            updateStatus('step2-3', 'pass', 'âœ“ éœ€éªŒè¯');
            
            updateStatus('step2-4', 'testing', 'æ£€æŸ¥ä¸­...');
            log('Step 4: éªŒè¯ GitHub ç™»å½•æŒ‰é’®');
            await new Promise(resolve => setTimeout(resolve, 1000));
            updateStatus('step2-4', 'pass', 'âœ“ éœ€éªŒè¯');
            
            updateStatus('step2-5', 'testing', 'æ£€æŸ¥ä¸­...');
            log('Step 5: éªŒè¯é‚®ç®±ç™»å½•é“¾æ¥');
            await new Promise(resolve => setTimeout(resolve, 1000));
            updateStatus('step2-5', 'pass', 'âœ“ éœ€éªŒè¯');
            
            log('æµ‹è¯•åœºæ™¯ 2 å®Œæˆï¼è¯·æ‰‹åŠ¨éªŒè¯å¯¹è¯æ¡†å†…å®¹ã€‚');
        }

        async function runTest3() {
            log('===== å¼€å§‹æµ‹è¯•åœºæ™¯ 3: å·²ç™»å½•ç”¨æˆ·ä½“éªŒ =====');
            log('æ³¨æ„: æ­¤æµ‹è¯•éœ€è¦å…ˆå®Œæˆç™»å½•');
            
            updateStatus('step3-1', 'testing', 'ç­‰å¾…ç™»å½•...');
            log('Step 1: è¯·å…ˆé€šè¿‡ Google æˆ– GitHub ç™»å½•');
            await new Promise(resolve => setTimeout(resolve, 3000));
            updateStatus('step3-1', 'pass', 'âœ“ æ‰‹åŠ¨');
            
            updateStatus('step3-2', 'testing', 'æ£€æŸ¥ä¸­...');
            log('Step 2: éªŒè¯æ˜¯å¦æ˜¾ç¤ºæ¬¢è¿ä¿¡æ¯');
            log('  æ ¼å¼: ã‚ˆã†ã“ãã€[ç”¨æˆ·å] ã•ã‚“');
            await new Promise(resolve => setTimeout(resolve, 1000));
            updateStatus('step3-2', 'pass', 'âœ“ éœ€éªŒè¯');
            
            updateStatus('step3-3', 'testing', 'æ£€æŸ¥ä¸­...');
            log('Step 3: éªŒè¯å‰©ä½™ç§¯åˆ†æ˜¾ç¤º');
            log('  æ ¼å¼: æ®‹ã‚Šã‚¯ãƒ¬ã‚¸ãƒƒãƒˆ: [æ•°å­—]');
            await new Promise(resolve => setTimeout(resolve, 1000));
            updateStatus('step3-3', 'pass', 'âœ“ éœ€éªŒè¯');
            
            updateStatus('step3-4', 'testing', 'æµ‹è¯•ä¸­...');
            log('Step 4: å†æ¬¡ç‚¹å‡»ç”ŸæˆæŒ‰é’®');
            log('  é¢„æœŸ: æ­£å¸¸è°ƒç”¨ API ç”Ÿæˆå›¾åƒ');
            await new Promise(resolve => setTimeout(resolve, 2000));
            updateStatus('step3-4', 'pass', 'âœ“ éœ€éªŒè¯');
            
            updateStatus('step3-5', 'testing', 'éªŒè¯ä¸­...');
            log('Step 5: ç¡®è®¤ä¸å†æ˜¾ç¤ºç™»å½•å¯¹è¯æ¡†');
            await new Promise(resolve => setTimeout(resolve, 1000));
            updateStatus('step3-5', 'pass', 'âœ“ éœ€éªŒè¯');
            
            log('æµ‹è¯•åœºæ™¯ 3 å®Œæˆï¼');
        }

        // é¡µé¢åŠ è½½æ—¶çš„åˆå§‹åŒ–
        window.onload = function() {
            log('æµ‹è¯•é¡µé¢å·²åŠ è½½');
            log('æœåŠ¡å™¨åœ°å€: http://localhost:3005');
            log('è¯·æŒ‰é¡ºåºæ‰§è¡Œæµ‹è¯•åœºæ™¯');
            log('');
        };
    </script>
</body>
</html>