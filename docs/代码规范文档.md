# ä»£ç è§„èŒƒæ–‡æ¡£

## ğŸ“‹ æ€»ä½“åŸåˆ™

### æ ¸å¿ƒç†å¿µ
1. **å¯è¯»æ€§ä¼˜å…ˆ** - ä»£ç æ˜¯å†™ç»™äººçœ‹çš„ï¼Œé¡ºä¾¿ç»™æœºå™¨æ‰§è¡Œ
2. **ç®€æ´ä½†ä¸ç®€é™‹** - è¿½æ±‚ç®€æ´ï¼Œä½†ä¸ç‰ºç‰²å¯ç†è§£æ€§
3. **ä¸€è‡´æ€§** - ä¿æŒé¡¹ç›®å†…ä»£ç é£æ ¼çš„ä¸€è‡´æ€§
4. **ä¸­æ–‡æ³¨é‡Š** - æ‰€æœ‰æ³¨é‡Šå¿…é¡»ä½¿ç”¨ä¸­æ–‡ï¼Œä¾¿äºå›¢é˜Ÿåä½œ

## ğŸ¨ ç¼–ç è§„èŒƒ

### TypeScript/JavaScript

#### å‘½åè§„èŒƒ
```typescript
// âœ… æ­£ç¡®ç¤ºä¾‹

// å¸¸é‡ï¼šå…¨å¤§å†™ï¼Œä¸‹åˆ’çº¿åˆ†éš”
const MAX_RETRY_COUNT = 3;
const DEFAULT_TIMEOUT = 5000;

// å˜é‡ï¼šå°é©¼å³°
const userName = "å¼ ä¸‰";
const isLoggedIn = true;

// å‡½æ•°ï¼šå°é©¼å³°ï¼ŒåŠ¨è¯å¼€å¤´
function getUserInfo() { }
function calculateTotal() { }
function validateEmail() { }

// ç±»ï¼šå¤§é©¼å³°
class UserService { }
class AttributionTracker { }

// æ¥å£ï¼šå¤§é©¼å³°ï¼ŒIå‰ç¼€ï¼ˆå¯é€‰ï¼‰
interface UserProfile { }
interface IApiResponse { }

// ç±»å‹ï¼šå¤§é©¼å³°
type PaymentStatus = "pending" | "paid" | "failed";

// æšä¸¾ï¼šå¤§é©¼å³°ï¼Œå€¼å…¨å¤§å†™
enum UserRole {
  ADMIN = "admin",
  USER = "user",
  GUEST = "guest"
}

// æ–‡ä»¶åï¼šçŸ­æ¨ªçº¿åˆ†éš”
// user-service.ts
// attribution-tracker.tsx
// api-response.d.ts
```

#### å‡½æ•°è§„èŒƒ
```typescript
/**
 * è®¡ç®—è®¢å•æ€»é‡‘é¢
 * 
 * @param items - è®¢å•é¡¹ç›®åˆ—è¡¨
 * @param discount - æŠ˜æ‰£é‡‘é¢ï¼ˆå¯é€‰ï¼‰
 * @returns è®¢å•æ€»é‡‘é¢ï¼ˆå•ä½ï¼šåˆ†ï¼‰
 */
function calculateOrderTotal(
  items: OrderItem[],
  discount?: number
): number {
  // éªŒè¯è¾“å…¥å‚æ•°
  if (!items || items.length === 0) {
    return 0;
  }
  
  // è®¡ç®—å•†å“æ€»ä»·
  const subtotal = items.reduce((sum, item) => {
    return sum + item.price * item.quantity;
  }, 0);
  
  // åº”ç”¨æŠ˜æ‰£
  const finalAmount = discount 
    ? Math.max(0, subtotal - discount)
    : subtotal;
  
  return finalAmount;
}
```

#### å¼‚æ­¥å¤„ç†
```typescript
// âœ… æ¨èï¼šä½¿ç”¨ async/await
async function fetchUserData(userId: string): Promise<User> {
  try {
    // ä»æ•°æ®åº“è·å–ç”¨æˆ·ä¿¡æ¯
    const user = await db.users.findUnique({
      where: { uuid: userId }
    });
    
    if (!user) {
      throw new Error(`ç”¨æˆ·ä¸å­˜åœ¨: ${userId}`);
    }
    
    return user;
  } catch (error) {
    console.error("è·å–ç”¨æˆ·æ•°æ®å¤±è´¥:", error);
    throw error;
  }
}

// âŒ é¿å…ï¼šå›è°ƒåœ°ç‹±
getUserData(userId, (err, user) => {
  if (err) {
    handleError(err);
  } else {
    getOrders(user.id, (err, orders) => {
      // åµŒå¥—å›è°ƒ...
    });
  }
});
```

### Reactç»„ä»¶è§„èŒƒ

#### å‡½æ•°ç»„ä»¶
```tsx
/**
 * ç”¨æˆ·å¡ç‰‡ç»„ä»¶
 * 
 * åŠŸèƒ½ï¼šæ˜¾ç¤ºç”¨æˆ·åŸºæœ¬ä¿¡æ¯å’Œæ“ä½œæŒ‰é’®
 * ä½¿ç”¨åœºæ™¯ï¼šç”¨æˆ·åˆ—è¡¨ã€ç”¨æˆ·è¯¦æƒ…é¡µ
 */
interface UserCardProps {
  user: User;                    // ç”¨æˆ·ä¿¡æ¯
  onEdit?: (id: string) => void; // ç¼–è¾‘å›è°ƒ
  onDelete?: (id: string) => void; // åˆ é™¤å›è°ƒ
  className?: string;            // è‡ªå®šä¹‰æ ·å¼ç±»
}

export function UserCard({ 
  user, 
  onEdit, 
  onDelete,
  className 
}: UserCardProps) {
  // çŠ¶æ€ç®¡ç†
  const [isLoading, setIsLoading] = useState(false);
  
  // å‰¯ä½œç”¨
  useEffect(() => {
    // ç»„ä»¶æŒ‚è½½æ—¶çš„é€»è¾‘
    console.log(`ç”¨æˆ·å¡ç‰‡å·²åŠ è½½: ${user.id}`);
    
    // æ¸…ç†å‡½æ•°
    return () => {
      console.log(`ç”¨æˆ·å¡ç‰‡å·²å¸è½½: ${user.id}`);
    };
  }, [user.id]);
  
  // äº‹ä»¶å¤„ç†
  const handleEdit = useCallback(() => {
    if (onEdit) {
      setIsLoading(true);
      onEdit(user.id);
    }
  }, [user.id, onEdit]);
  
  // æ¸²æŸ“
  return (
    <div className={cn("user-card", className)}>
      <Avatar src={user.avatar} alt={user.name} />
      <h3>{user.name}</h3>
      <p>{user.email}</p>
      
      {/* æ¡ä»¶æ¸²æŸ“ */}
      {onEdit && (
        <Button 
          onClick={handleEdit}
          disabled={isLoading}
        >
          ç¼–è¾‘
        </Button>
      )}
    </div>
  );
}
```

#### Hooksä½¿ç”¨è§„èŒƒ
```typescript
// è‡ªå®šä¹‰Hookï¼šuseå¼€å¤´
function useUserData(userId: string) {
  const [user, setUser] = useState<User | null>(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState<Error | null>(null);
  
  useEffect(() => {
    // è·å–ç”¨æˆ·æ•°æ®
    fetchUser();
    
    async function fetchUser() {
      try {
        setLoading(true);
        const data = await getUserById(userId);
        setUser(data);
      } catch (err) {
        setError(err as Error);
      } finally {
        setLoading(false);
      }
    }
  }, [userId]);
  
  return { user, loading, error };
}
```

### CSS/Tailwindè§„èŒƒ

#### ç±»åé¡ºåº
```tsx
// æ¨èçš„Tailwindç±»åé¡ºåº
<div className="
  {/* å¸ƒå±€ */}
  flex flex-col items-center justify-between
  
  {/* é—´è· */}
  p-4 m-2 gap-4
  
  {/* å°ºå¯¸ */}
  w-full h-64 max-w-lg
  
  {/* èƒŒæ™¯å’Œè¾¹æ¡† */}
  bg-white border border-gray-200 rounded-lg
  
  {/* æ–‡å­— */}
  text-gray-800 text-sm font-medium
  
  {/* æ•ˆæœ */}
  shadow-md hover:shadow-lg
  
  {/* è¿‡æ¸¡ */}
  transition-all duration-200
  
  {/* å“åº”å¼ */}
  md:flex-row lg:p-8
">
```

## ğŸ’¬ æ³¨é‡Šè§„èŒƒ

### æ–‡ä»¶å¤´æ³¨é‡Š
```typescript
/**
 * ç”¨æˆ·å½’å› æœåŠ¡
 * 
 * åŠŸèƒ½ï¼šå¤„ç†ç”¨æˆ·æ¥æºè¿½è¸ªã€è®¾å¤‡è¯†åˆ«ã€åœ°ç†å®šä½
 * ä½œè€…ï¼šå¼€å‘å›¢é˜Ÿ
 * åˆ›å»ºæ—¥æœŸï¼š2024-01-15
 * æœ€åä¿®æ”¹ï¼š2024-08-17
 * 
 * ä¾èµ–ï¼š
 * - ua-parser-js: è§£æUser Agent
 * - geoip-lite: IPåœ°ç†å®šä½
 * 
 * æ³¨æ„äº‹é¡¹ï¼š
 * - Cookieæœ‰æ•ˆæœŸ30å¤©
 * - æœ¬åœ°å¼€å‘ç¯å¢ƒIPæ˜¾ç¤ºä¸ºlocalhost
 */
```

### å‡½æ•°æ³¨é‡Š
```typescript
/**
 * è§£æUTMå‚æ•°
 * 
 * é—®é¢˜ï¼šéœ€è¦ä»URLä¸­æå–è¥é”€è¿½è¸ªå‚æ•°
 * è§£å†³æ–¹æ¡ˆï¼šè§£ææŸ¥è¯¢å­—ç¬¦ä¸²ï¼Œæå–æ ‡å‡†UTMå‚æ•°
 * 
 * @param url - å®Œæ•´çš„URLå­—ç¬¦ä¸²
 * @returns UTMå‚æ•°å¯¹è±¡ï¼ŒåŒ…å«sourceã€mediumã€campaignç­‰
 * 
 * @example
 * const utm = parseUTMParams("https://example.com?utm_source=google&utm_medium=cpc");
 * // è¿”å›: { source: "google", medium: "cpc" }
 */
function parseUTMParams(url: string): UTMParams {
  // å®ç°ä»£ç ...
}
```

### è¡Œå†…æ³¨é‡Š
```typescript
// âœ… å¥½çš„æ³¨é‡Šï¼šè§£é‡Šä¸ºä»€ä¹ˆ
// ä½¿ç”¨30å¤©ä½œä¸ºå½’å› çª—å£æœŸï¼Œè¿™æ˜¯è¡Œä¸šæ ‡å‡†
const ATTRIBUTION_WINDOW = 30 * 24 * 60 * 60 * 1000;

// âŒ ä¸å¥½çš„æ³¨é‡Šï¼šè§£é‡Šæ˜¯ä»€ä¹ˆï¼ˆä»£ç æœ¬èº«å·²ç»å¾ˆæ¸…æ¥šï¼‰
// è®¾ç½®countä¸º0
let count = 0;

// âœ… å¤æ‚é€»è¾‘æ³¨é‡Š
// è®¡ç®—è½¬åŒ–ç‡æ—¶éœ€è¦å¤„ç†é™¤é›¶çš„æƒ…å†µ
// å¦‚æœæ²¡æœ‰ç”¨æˆ·ï¼Œè¿”å›0è€Œä¸æ˜¯NaN
const conversionRate = totalUsers > 0 
  ? (paidUsers / totalUsers) * 100 
  : 0;
```

### TODOæ³¨é‡Š
```typescript
// TODO: æ·»åŠ ç¼“å­˜æœºåˆ¶æé«˜æ€§èƒ½
// TODO(å¼ ä¸‰): 2024-09-01 å‰å®Œæˆé‚®ä»¶é€šçŸ¥åŠŸèƒ½
// FIXME: ä¿®å¤åœ¨Safariæµè§ˆå™¨ä¸‹çš„å…¼å®¹æ€§é—®é¢˜
// HACK: ä¸´æ—¶è§£å†³æ–¹æ¡ˆï¼Œç­‰å¾…ä¸Šæ¸¸åº“ä¿®å¤
// NOTE: è¿™é‡Œä½¿ç”¨äº†ç¬¬ä¸‰æ–¹APIï¼Œéœ€è¦é…ç½®APIå¯†é’¥
```

## ğŸ“ Gitæäº¤è§„èŒƒ

### æäº¤æ¶ˆæ¯æ ¼å¼
```
<type>(<scope>): <subject>

<body>

<footer>
```

### Typeç±»å‹
```bash
feat:     æ–°åŠŸèƒ½
fix:      ä¿®å¤bug
docs:     æ–‡æ¡£æ›´æ–°
style:    ä»£ç æ ¼å¼ï¼ˆä¸å½±å“ä»£ç è¿è¡Œï¼‰
refactor: é‡æ„ï¼ˆæ—¢ä¸æ˜¯æ–°åŠŸèƒ½ä¹Ÿä¸æ˜¯ä¿®å¤bugï¼‰
perf:     æ€§èƒ½ä¼˜åŒ–
test:     æµ‹è¯•ç›¸å…³
chore:    æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨
```

### ç¤ºä¾‹
```bash
# âœ… å¥½çš„æäº¤æ¶ˆæ¯
git commit -m "feat(auth): æ·»åŠ Google OAuthç™»å½•åŠŸèƒ½"
git commit -m "fix(payment): ä¿®å¤Stripeæ”¯ä»˜å›è°ƒå¤±è´¥é—®é¢˜"
git commit -m "docs: æ›´æ–°APIæ–‡æ¡£å’Œéƒ¨ç½²æŒ‡å—"
git commit -m "perf(db): ä¼˜åŒ–ç”¨æˆ·æŸ¥è¯¢ï¼Œæ·»åŠ ç´¢å¼•"

# âŒ ä¸å¥½çš„æäº¤æ¶ˆæ¯
git commit -m "ä¿®æ”¹ä»£ç "
git commit -m "fix"
git commit -m "æ›´æ–°"
```

### è¯¦ç»†æäº¤ç¤ºä¾‹
```
feat(attribution): å®ç°ç”¨æˆ·å½’å› è¿½è¸ªç³»ç»Ÿ

- æ·»åŠ CookieæŸ“è‰²æœºåˆ¶ï¼Œ30å¤©æŒä¹…åŒ–è¿½è¸ª
- å®ç°UTMå‚æ•°è§£æå’Œå­˜å‚¨
- æ·»åŠ è®¾å¤‡ç±»å‹æ£€æµ‹ï¼ˆPC/ç§»åŠ¨/å¹³æ¿ï¼‰
- é›†æˆIPåœ°ç†å®šä½æœåŠ¡

ç›¸å…³Issue: #123
```

## ğŸ— é¡¹ç›®ç»“æ„è§„èŒƒ

### æ–‡ä»¶ç»„ç»‡
```
src/
â”œâ”€â”€ app/          # é¡µé¢å’Œè·¯ç”±
â”œâ”€â”€ components/   # å¯å¤ç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ ui/      # åŸºç¡€UIç»„ä»¶
â”‚   â””â”€â”€ blocks/  # ä¸šåŠ¡ç»„ä»¶
â”œâ”€â”€ services/    # ä¸šåŠ¡é€»è¾‘
â”œâ”€â”€ lib/         # å·¥å…·å‡½æ•°
â”œâ”€â”€ hooks/       # è‡ªå®šä¹‰Hooks
â”œâ”€â”€ types/       # ç±»å‹å®šä¹‰
â””â”€â”€ styles/      # å…¨å±€æ ·å¼
```

### å¯¼å…¥é¡ºåº
```typescript
// 1. Reactç›¸å…³
import React, { useState, useEffect } from 'react';
import { useRouter } from 'next/navigation';

// 2. ç¬¬ä¸‰æ–¹åº“
import { format } from 'date-fns';
import axios from 'axios';

// 3. å†…éƒ¨ç»„ä»¶
import { Button } from '@/components/ui/button';
import { UserCard } from '@/components/user-card';

// 4. æœåŠ¡å’Œå·¥å…·
import { getUserData } from '@/services/user';
import { formatCurrency } from '@/lib/utils';

// 5. ç±»å‹å®šä¹‰
import type { User, Order } from '@/types';

// 6. æ ·å¼
import styles from './styles.module.css';
```

## ğŸ”’ å®‰å…¨è§„èŒƒ

### æ•æ„Ÿä¿¡æ¯å¤„ç†
```typescript
// âŒ é”™è¯¯ï¼šç¡¬ç¼–ç æ•æ„Ÿä¿¡æ¯
const API_KEY = "sk-xxxxxxxxxxxx";  // ç¤ºä¾‹ï¼Œåˆ‡å‹¿ä½¿ç”¨çœŸå®å¯†é’¥

// âœ… æ­£ç¡®ï¼šä½¿ç”¨ç¯å¢ƒå˜é‡
const API_KEY = process.env.OPENAI_API_KEY;

// âŒ é”™è¯¯ï¼šåœ¨æ—¥å¿—ä¸­è¾“å‡ºæ•æ„Ÿä¿¡æ¯
console.log("ç”¨æˆ·å¯†ç :", password);

// âœ… æ­£ç¡®ï¼šè„±æ•å¤„ç†
console.log("ç”¨æˆ·ç™»å½•:", { email: user.email, id: user.id });
```

### è¾“å…¥éªŒè¯
```typescript
// å§‹ç»ˆéªŒè¯ç”¨æˆ·è¾“å…¥
function createUser(data: unknown) {
  // ä½¿ç”¨zodæˆ–å…¶ä»–éªŒè¯åº“
  const schema = z.object({
    email: z.string().email(),
    name: z.string().min(2).max(50),
    age: z.number().min(0).max(120)
  });
  
  const validatedData = schema.parse(data);
  // ç»§ç»­å¤„ç†...
}
```

## ğŸ“Š æ€§èƒ½è§„èŒƒ

### ç»„ä»¶ä¼˜åŒ–
```typescript
// ä½¿ç”¨memoé¿å…ä¸å¿…è¦çš„é‡æ¸²æŸ“
export const ExpensiveComponent = React.memo(({ data }) => {
  // ç»„ä»¶é€»è¾‘
});

// ä½¿ç”¨useMemoç¼“å­˜è®¡ç®—ç»“æœ
const expensiveValue = useMemo(() => {
  return calculateExpensiveValue(data);
}, [data]);

// ä½¿ç”¨useCallbackç¼“å­˜å‡½æ•°
const handleClick = useCallback(() => {
  doSomething(id);
}, [id]);
```

### å›¾ç‰‡ä¼˜åŒ–
```tsx
// ä½¿ç”¨Next.js Imageç»„ä»¶
import Image from 'next/image';

<Image
  src="/avatar.jpg"
  alt="ç”¨æˆ·å¤´åƒ"
  width={100}
  height={100}
  loading="lazy"
  placeholder="blur"
/>
```

## âœ… ä»£ç å®¡æŸ¥æ¸…å•

### æäº¤å‰æ£€æŸ¥
- [ ] ä»£ç å·²æ ¼å¼åŒ–ï¼ˆprettierï¼‰
- [ ] é€šè¿‡ESLintæ£€æŸ¥
- [ ] é€šè¿‡TypeScriptç±»å‹æ£€æŸ¥
- [ ] æ·»åŠ äº†å¿…è¦çš„ä¸­æ–‡æ³¨é‡Š
- [ ] æ²¡æœ‰console.logè°ƒè¯•ä»£ç 
- [ ] æ²¡æœ‰ç¡¬ç¼–ç çš„æ•æ„Ÿä¿¡æ¯
- [ ] æµ‹è¯•ç”¨ä¾‹é€šè¿‡

### å®¡æŸ¥è¦ç‚¹
- [ ] ä»£ç é€»è¾‘æ¸…æ™°æ˜“æ‡‚
- [ ] å‘½åè§„èŒƒç¬¦åˆçº¦å®š
- [ ] é”™è¯¯å¤„ç†å®Œå–„
- [ ] æ€§èƒ½è€ƒè™‘å……åˆ†
- [ ] å®‰å…¨æ€§æ£€æŸ¥é€šè¿‡
- [ ] æ–‡æ¡£æ›´æ–°åŒæ­¥

## ğŸ›  å¼€å‘å·¥å…·é…ç½®

### VSCodeæ¨èæ’ä»¶
```json
{
  "recommendations": [
    "dbaeumer.vscode-eslint",
    "esbenp.prettier-vscode",
    "bradlc.vscode-tailwindcss",
    "prisma.prisma",
    "GitHub.copilot"
  ]
}
```

### Prettieré…ç½®
```json
{
  "semi": true,
  "singleQuote": false,
  "tabWidth": 2,
  "trailingComma": "es5",
  "printWidth": 80,
  "bracketSpacing": true
}
```

### ESLinté…ç½®
```json
{
  "extends": [
    "next/core-web-vitals",
    "plugin:@typescript-eslint/recommended"
  ],
  "rules": {
    "no-console": "warn",
    "@typescript-eslint/no-unused-vars": "error",
    "@typescript-eslint/no-explicit-any": "warn"
  }
}
```

## ğŸ“š å‚è€ƒèµ„æº

- [TypeScriptå®˜æ–¹æ–‡æ¡£](https://www.typescriptlang.org/docs/)
- [Reactæœ€ä½³å®è·µ](https://react.dev/learn)
- [Next.jsæ–‡æ¡£](https://nextjs.org/docs)
- [Tailwind CSSæ–‡æ¡£](https://tailwindcss.com/docs)
- [Clean CodeåŸåˆ™](https://github.com/ryanmcdermott/clean-code-javascript)

---

*æ–‡æ¡£ç‰ˆæœ¬ï¼šv1.0*  
*æ›´æ–°æ—¥æœŸï¼š2025-08-17*  
*é€‚ç”¨é¡¹ç›®ï¼šAIé€šç”¨ç”Ÿæˆå™¨ v2.6.0+*